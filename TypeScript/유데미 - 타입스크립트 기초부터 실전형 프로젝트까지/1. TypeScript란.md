# TypeScript란 무엇이며 왜 사용해야 하는가?

**블로그 포스팅으로 대체**
- [포스팅 바로가기](https://hymndev.tistory.com/79)

---

#### JavaScript 논리적 오류 예시
```
function add(num1, num2) {
  return num1 + num2;
}

console.log(add('2','3')); // 23 => Unwanted Behavior at Runtime
```
- 위 함수에서 얻게 되는 결과는 아마도 원치 않는 동작일 것이다. 왜냐하면 두 문자열을 추가하면 JavaScript가 수학적 계산을 수행하는 대신 문자열을 연결하기 때문이다.
- JavaScript 에서는 위와 같은 결과를 막고자 `if check`을 추가하여 Runtime시 입력 타입을 검사할 수 있다.
- `if check` 작업을 수행해도 좋겠지만 개발 도중에 에러를 포착할 수 있다면 더욱 좋을텐데 이를 TypeScript가 해결해줄 수 있다.

---

#### 실제 프로젝트와 동일한 예시

index.html
```
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Understanding TypeScript</title>
    <script src="js-only.js" defer></script>		
  </head>
  <body>
    <input type="number" id="num1" placeholder="Number 1" />
    <input type="number" id="num1" placeholder="Number 2" />
    <button>Add!</button>
  </body>
</html>
```

js-only.js
```
const button = document.querySelector("button");
const input1 = document.getElementById("num1");
const input2 = document.getElementById("num2");

function add(num1, num2) {
  return num1 + num2;
}

button.addEventListener("click", function() {
  // 아래에서 input에 액세스할 때 문자열로 인식하게 된다.
  console.log(add(input1.value, input2.value));
});
```

- 상호작용하고 있는 두 파일을 실행하면 덧셈을 해주는 브라우저창이 뜬다. 브라우저에서 `10 + 5` 작업을 수행하면 `105`라는 결과가 나타난다. 이것은 JavaScript의 약점이며 기술적 오류가 아닌 논리적 에러라고 할 수 있다.
- 이와 같은 에러는 JavaScript에서 `input`의 값에 액세스할 때 `input`의 타입이 무엇이든지 문자열로 인식하기 때문이다.

```
function add(num1, num2) {
  if (typeof num1 === 'number' && typeof num2 === 'number') {
    return num1 + num2;
  } else {
    return +num1 + +num2; // 매개변수 앞에 '+' 기호를 붙여 둘 다 숫자로 변환
  }
}
```
- JavaScript에서 `if 문`으로 정제된 코드로 만들어서 `num`, `input`이 숫자가 아니라면 숫자로 변환해서 해결할 수 있지만, 애초부터 에러를 띄우면서 문자열을 전달할 수 없다는 것을 확실히 하고 싶을 때 TypeScript를 이용할 수 있다.

#### TypeScript 사용해보기
- 위 JavaScript 코드를 `.ts`파일에 그대로 옮기면 IDE에서 수정해야 할 에러를 반환해준다.

using-ts.ts
```
const button = document.querySelector("button");
const input1 = document.getElementById("num1")! as HTMLInputElement;
const input2 = document.getElementById("num2")! as HTMLInputElement;

function add(num1: number, num2: number) {
  // 매개변수에 : number를 추가해서 숫자 타입이 될 것이라고 입력한다.
  return num1 + num2;
}

  button.addEventListener("click", function() {
  // Property 'value' does not exist on type 'HTMLElement'. 
  // 매개변수에 : number을 지정했다. 하지만 input 값의 결과는 String으로 인식하기 때문에 number 타입의 매개변수를 넣기 위해서 + 기호를 넣었다.
  console.log(add(+input1.value, +input2.value));
});
```
자세한 내용은 추후에 배우지만 TypeScript에 대해서 간단히 살펴보고 넘어가도록 하자.
- `input1.value`에서 속성이 실제로 있는지 확실하지 않기 때문에 에러를 반환한다. 왜냐하면 `getElementById`로 id별로 요소를 선택하고 있는데, TypeScript는 이 코드가 오타가 발생할 수도 있으며 이 경우 요소를 선택할 수 없기 때문 작동할지 알 수 없다. 
- `!`를 추가하여 요소를 얻을 것임을, 결코 `null`을 반환하지 않을 것을 TypeScript에 알릴 수 있다.
- `:`를 추가하여 TypeScript에 보다 더 명시적인 타입을 추가할 수 있다.
