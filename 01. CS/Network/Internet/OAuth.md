# 목차

- [OAuth 용어](#oauth-용어)
- [OAuth 등장 배경](#oauth-등장-배경)
- [OAuth란?](#oauth란)
- [OAuth 2.0 동작 예시](#oauth-20-동작-예시)
- [Ref](#ref)

<br>

# OAuth 용어

| 용어                   | 설명                                                                                                                                                                                                                                                                  |
| ---------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Resource Owner(사용자) | 개인정보를 소유하고 있는 리소스 소유자로 클라이언트 서비스를 이용하면서 Google, Yahoo 등의 서비스를 사용하려는 사용자이다.                                                                                                                                            |
| Resource Server        | 사용자의 개인정보를 가지고 있는 서버(Google, Yahoo, Amazon)를 의미하며 클라이언트는 Access token을 Resource Server로 보내서 사용자의 개인정보를 얻는다.                                                                                                               |
| Authorization Server   | 실질적으로 권한 부여 기능을 담당하는 서버로 사용자를 인증하고 클라이언트에게 액세스 토큰을 발급해주는 서버이다. 사용자는 자신의 SNS 계정 정보를 넘겨서 Authorization Code를 받으며, 클라이언트는 사용자로부터 받은 Authorization Code를 넘겨서 Access token을 받는다. |
| Client                 | 개인 혹은 회사가 만든 서비스를 의미하며 일반적인 웹/앱 서버를 의미하지만 Resource Server 입장에서는 클라이언트이므로 클라이언트라 부른다.                                                                                                                             |

<br>

# OAuth 등장 배경

어떤 클라이언트가 사용자를 대신하여 구글 캘린더 일정 추가, SNS 게시글 추가하는 기능을 구현하는데 가장 쉬운 방법은 사용자로부터 구글, SNS 계정을 직접 제공받는 것이다. 하지만 사용자는 처음보는 클라이언트를 신뢰하여 본인의 계정을 맡기는데 부담이 있으며, 대부분의 사용자는 동일한 아이디와 패스워드를 사용하므로 유출되었을 때 피해가 상당하다.

클라이언트 입장에서도 사용자의 민감한 정보를 직접 관리한다는 부담이 있으며, 구글과 SNS와 같은 Resource Server 측에서도 각자의 사용자 정보를 신뢰할 수 없는 클라이언트에게 맡기는 것이 좋지는 않을 것이다. 이러한 문제를 해결하기 위해서 구글은 AuthSub, 야후는 BBAuth, 아마존은 웹서비스 API 등으로 각자 회사가 개발한 방법대로 사용자를 확인했다. 각자가 만든 방식은 표준화가 되지 않았기에 구글과 야후를 클라이언트에서 연동하기 위해서는 AuthSub, BBAuth 등에 맞춰서 개발하고 유지보수 해야했다. 이러한 문제를 해결하기 위해서 트위터와 Ma.gnolia가 주도적으로 개발한 OAuth가 등장했다.

<br>

# OAuth란?

Open Authorization의 약자로 인터넷 사용자가 비밀번호를 제공하지 않고 다른 웹사이트 상의 자신들의 정보에 대해 웹사이트나 애플리케이션의 접근 권한을 부여할 수 있는 공통적인 수단으로서 사용되는 **접근 위임을 위한 개방형 표준**이다.

OAuth는 사용자가 누구인지 확인하는 인증 프로토콜이 아닌 사용자의 요청이 권한이 있는지를 확인하는 인가 프로토콜이다. 흔히 소셜 로그인을 떠올리면 되며, 웹 서버에 해당 소셜 계정 정보를 제공하지 않더라도 접근 권한을 부여할 수 있다.

<br>

# OAuth 2.0 동작 예시

![image](https://github.com/cham-min/TIL/assets/96946274/f8b27c37-f6a3-46aa-b34e-26ab10d7dd17)

<br>

# Ref

- [OAuth, 위키백과](https://ko.wikipedia.org/wiki/OAuth)
- [OAuth 2.0 개념과 동작원리, hudi.blog](https://hudi.blog/oauth-2.0/)
