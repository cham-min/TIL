# 목차

- [Cookie & Session](#cookie--session)
- [Cookie](#cookie)
  - [Cookie 동작 방식](#cookie-동작-방식)
  - [Cookie 사용 예시](#cookie-사용-예시)
- [Session](#session)
  - [Session 인증 방식](#session-인증-방식)
  - [Session 사용 예시](#cookie-사용-예시)
  - [Session 장점](#session-장점)
  - [Session 단점](#session-단점)

<br>

# Cookie & Session

클라이언트와 서버가 통신할 때 통신이 연속적으로 이루어지지 않고 한 번 통신되면 끊어진다는 특징이 있다. 서버는 클라이언트가 누구인지 계속해서 인증을 해야하며, 이런 번거로운 작업을 해결하기 위해서 쿠키와 세션을 이용한다.

<br>

# Cookie

- 사용자가 특정 웹 사이트에 방문할 때, 사용자 컴퓨터에 저장하는 기록 정보 파일이다.
- HTTP에서 클라이언트의 상태정보를 로컬에 저장했다가 필요시 정보를 참조하거나 재사용할 수 있다.

<br>

### Cookie 동작 방식

1. 클라이언트가 페이지를 요청
2. 서버의 쿠키 생성
3. 생성한 쿠키를 데이터에 담아 HTTP 화면을 쿠키와 함께 클라이언트에게 전달
4. 클라이언트는 쿠키를 로컬에 가지고 있다가 서버에게 요청할 때 쿠키와 함께 전달
5. 동일 사이트 재방문시 로컬에 쿠키가 있는 경우 요청 페이지와 함께 쿠키 전달

<br>

### Cookie 사용 예시

- '아이디와 비밀번호를 저장하시겠습니까?'
- '오늘 이 창을 다시 보지 않기'

<br>

# Session

- 한 명의 사용자(브라우저)로부터 들어오는 일련의 요구를 하나의 상태로 보고 해당 상태를 유지하는 기술이다.
- 방문자가 웹 서버에 접속하고 있는 상태를 하나의 단위로 보고 이를 세션이라 한다.

<br>

### Session 인증 방식

1. 로그인 페이지 요청 (Client → Server)
2. 로그인 페이지 응답 (Server → Client)
3. 로그인 요청 (Client → Server)
4. 세션 생성 및 유지 (Server → DB)
5. 세션 ID 응답 (Server → Client)
6. 브라우저에 세션 정보 저장 (Client → Browser)
7. 세션 ID와 함께 요청 수행 (Client → Server)
8. 세션 ID를 통해 회원 ID 접근 (Server → DB)
9. 회원의 서비스 수행 (Server → Client)

<br>

### Session 사용 예시

- 웹 사이트에 한 번 로그인하면, 다른 페이지로 이동해도 계속 접속 상태가 유지

<br>

### Session 장점

- 클라이언트에게 세션 ID(회원 식별)를 제공하고, 회원에 대한 정보는 서버가 가지고있다.
- 민감한 데이터를 클라이언트에게 직접적으로 보내지 않는다.
- 클라이언트 브라우저가 가지고 있는 세션 ID 자체에는 개인정보를 포함하고 있지 않다.

<br>

### Session 단점

- 악의적인 사용자가 세션 ID를 탈취하여 사용자로 위장할 수 있다. 따라서 회원정보를 변경하는 중요한 페이지에 접근할 때는 패스워드를 한 번더 확인하여 별도의 토큰을 지급하는 과정이 필요하다.
- 웹 서버에 세션 정보를 기록하고 있어야 하므로 접속자가 많을 때 서버에 메모리 부하가 있을 수 있다.

# Ref

- [슬기로운 개발생활 블로그](https://dev-coco.tistory.com/61)
