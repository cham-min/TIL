# 목차

- [REST API](#rest-api)
  - [REST](#rest)
  - [API](#api)
  - [RESTful API](#restful-api)
- [REST 디자인 원칙](#rest-디자인-원칙)
  - [균일한 인터페이스](#균일한-인터페이스)
  - [클라이언트-서버 디커플링](#클라이언트-서버-디커플링)
  - [무상태(Stateless)](#무상태stateless)
  - [계층화 시스템](#계층화-시스템)
  - [캐시 가능성](#캐시-가능성)
  - [코드 온 디맨드](#코드-온-디맨드)
- [REST API 설계 규칙](#rest-api-설계-규칙)
- [Ref](#ref)

<br>

# REST API

클라이언트의 종류가 웹 브라우저, 안드로이드 앱, iOS앱 등으로 다양해지면서 클라이언트들에게 정보를 제공하는 방법을 일원화시키고 싶어졌으며 일원화 방식 중 대표적인 것이 HTTP 프로토콜로 API를 제공하는 것이다.

HTTP 프로토콜에서 서버가 HTTP 메서드를 기존 설명에 맞게 사용하지 않더라도 프로그램 개발이 가능하다. 하지만 각 서비스가 서로다른 방식으로 개발하게 된다면 개발자들 사이에서 소통의 문제가 발생할 수 있기에 기준이 되는 아키텍처로 REST를 채택할 수 있다.

HTTP 프로토콜로 제공하는 API를 REST API라고 할 수 있으며 REST의 구성요소는 아래와 같다.

| 구성 요소            | 내용                   | 예시                                    |
| -------------------- | ---------------------- | --------------------------------------- |
| 자원(resource)       | URI 이용               | https://www.example.com/user            |
| 행위(verb)           | HTTP 메서드 이용       | `GET`, `POST`, `PUT`, `PATCH`, `DELETE` |
| 표현(representation) | 페이로드(payload) 이용 |

자원을 URI를 통해서 명시하고, HTTP 메서드를 사용하여 해당 자원에 대한 CRUD Operation을 적용하는 것이다. 표현의 경우는 클라이언트가 리소스에 대한 조작을 요청하면 서버는 적절한 응답을 보내주는데 `JSON`, `XML`, `TEXT`등의 표현으로 나타낸다.

<br>

### REST

- Representational State Transfer의 약자이다.
- 처음에 인터넷과 같은 복잡한 네트워크에서 통신을 관리하기 위한 지침으로 만들어졌다.
- REST는 API **작동 방식에 대한 조건을 부과**하는 소프트웨어 아키텍처이다.
- 여러 아키텍처를 사용하여 API를 설계할 수 있는데, REST 아키텍처를 따르는 API를 REST API라고 한다.
- 특정한 리소스에 대해서 리소스의 상태에 대한 정보를 주고받는 모든 것을 의미한다.
- REST 기반 아키텍처를 사용하여 대규모 고성능 통신을 안정적으로 지원할 수 있으며 쉽게 구현하고 수정할 수 있어 모든 API 시스템을 파악하고 여러 플랫폼에서 사용할 수 있다.

<br>

### API

- Application Programming Interface의 약자이다.
- 응용 프로그램에서 사용할 수 있도록 운영체제나 프로그래밍 언어가 제공하는 기능을 제어할 수 있게 만든 인터페이스이다.
- 다른 소프트웨어 시스템과 통신하기 위해서 따라야 하는 규칙을 정의한다.

<br>

### RESTful API

- 두 컴퓨터 시스템이 인터넷을 통해 정보를 안전하게 교환하기 위해서 사용하는 인터페이스
- REST 아키텍처를 구현하는 웹 서비스를 RESTful 웹 서비스라고 한다.
- RESTful은 REST라는 아키텍처를 구현하는 웹 서비스를 나타내기 위해서 사용되는 용어이다.
- RESTful은 REST를 REST답게 사용하기 위한 방법으로 누군가 공식적으로 발표한 내용은 아니다.

<br>

# REST 디자인 원칙

### 균일한 인터페이스

- 요청이 어디서 오는지 무관하게 동일 리소스에 대한 모든 API 요청은 동일하게 보여야 한다.
- REST API는 동일한 데이터 조각(이름, 이메일 등)이 오직 하나의 URI에 속함을 보장해야 한다.
- 서버가 표준 형식으로 정보를 전달하는 것을 의미한다.

<br>

### 클라이언트-서버 디커플링

- 자원을 요청하는 쪽이 클라이언트, 자원이 있는 쪽이 서버가 된다.
- REST API 디자인에서 클라이언트와 서버 애플리케이션은 서로간에 완전히 독립적이어야 한다.
- 클라이언트가 알아야 하는 유일한 정보는 요청된 리소스의 URI이며, 다른 방법으로 서버와 상호작용할 수 없다.
- 서버는 HTTP를 통해 요청된 데이터를 전달하는 것 말고는 클라이언트를 수정하지 않아야 한다.

<br>

### 무상태(Stateless)

- 서버가 이전의 모든 요청과 독립적으로 모든 클라이언트 요청을 완료하는 통신 방법이다.
- 클라이언트는 임의의 순서로 리소스를 요청할 수 있으며 모든 요청은 무상태이거나 다른 요청과 분리된다.
- 작업을 위한 상태정보를 따로 저장하고 관리하지 않는다. 세션정보, 쿠키정보를 별도로 저장하고 관리하지 않기에 API 서버는 들어오는 요청만 단순하게 처리하면 된다.
- 서비스의 자유도가 높아지고 서버에서 불필요한 정보를 처리하지 않기에 구현이 단순해진다.

<br>

### 계층화 시스템

- 클라이언트는 REST API 서버만 호출한다.
- 클라이언트와 서버 사이의 다른 승인된 중개자에게 연결할 수 있으며 여전히 서버로부터 응답을 받는다.
- API 서버는 순수 비즈니스 로직을 수행하고 앞단에 보안, 암호화, 사용자 인증등을 추가하여 구조에 유연성을 추가할 수 있다.
- Proxy, Gateway 같은 네트워크 기반의 중간 매체를 사용할 수 있다.

<br>

### 캐시 가능성

- 서버 응답 시간을 개선하기 위해서 클라이언트 또는 중개자에 일부 응답을 저장하는 프로세스인 캐싱을 지원한다.
- 리소스를 클라이언트 또는 서버측에서 캐싱할 수 있어야 한다.
- 서버 응답에는 전달된 리소스에 대해서 캐싱이 허용되는지 여부에 대한 정보가 포함되어야 한다.

<br>

### 코드 온 디맨드

- 서버로부터 스크립트를 받아서 클라이언트에서 실행한다.

<br>

# REST API 설계 규칙

1. `/`는 계층 관계를 나타내는데 사용한다.
2. URI 마지막 문자로 `/`를 포함하지 않는다.
3. URI 가독성을 높이는데 `-`를 사용하며 `_`는 사용하지 않는다.
4. URI 경로는 소문자로 작성한다.
5. URI에 파일 확장자를 포함하지 않는다.
6. URI에 행위(HTTP 메서드)를 포함하지 않는다.

<br>

# Ref

- [AWS, RESTful API란 무엇입니까?](https://aws.amazon.com/ko/what-is/restful-api/)
- [IBM, REST API란?](https://www.ibm.com/kr-ko/topics/rest-apis)
- [boostcourse, REST API란?](https://www.boostcourse.org/web316/lecture/16740?isDesc=false)
- [REST, REST API, RESTful에 대해 이해한다](https://gmlwjd9405.github.io/2018/09/21/rest-and-restful.html)
