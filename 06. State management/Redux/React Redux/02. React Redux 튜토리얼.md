# ëª©ì°¨

- [íŠœí† ë¦¬ì–¼ í™˜ê²½](#íŠœí† ë¦¬ì–¼-í™˜ê²½)
- [íŠœí† ë¦¬ì–¼ ì§„í–‰](#íŠœí† ë¦¬ì–¼-ì§„í–‰)
  - [1. Redux Toolkit & React Redux ì„¤ì¹˜](#1-redux-toolkit--react-redux-ì„¤ì¹˜)
  - [2. Redux store ìƒì„±](#2-redux-store-ìƒì„±)
  - [3. Reactë¡œ Redux Store ì œê³µ](#3-reactë¡œ-redux-store-ì œê³µ)
  - [4. Redux State Slice ìƒì„±](#4-redux-state-slice-ìƒì„±)
  - [5. Storeì— Slice Reducers ì¶”ê°€](#5-storeì—-slice-reducers-ì¶”ê°€)
  - [6. Redux Stateì™€ Actionsë¥¼ React ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©](#6-redux-stateì™€-actionsë¥¼-react-ì»´í¬ë„ŒíŠ¸ì—ì„œ-ì‚¬ìš©)
- [ìš”ì•½](#ìš”ì•½)
- [Ref](#ref)

<br>

# íŠœí† ë¦¬ì–¼ í™˜ê²½

- [A typical Create-React-App folder structure](https://create-react-app.dev/docs/folder-structure/)
- Redux
- Redux Toolkit

<br>

# íŠœí† ë¦¬ì–¼ ì§„í–‰

## 1. Redux Toolkit & React Redux ì„¤ì¹˜

```bash
# npm
$ npm install @reduxjs/toolkit react-redux

# yarn
$ yarn add @reduxjs/toolkit react-redux
```

- [Redux Toolkit docs - ê¸°ì¡´ ì•±ì— ì¶”ê°€í•˜ê¸°](https://redux-toolkit.js.org/introduction/getting-started#an-existing-app)

<br>

## 2. Redux store ìƒì„±

`src/app/store.js`

```javascript
import { configureStore } from '@reduxjs/toolkit';

export default configureStore({
  reducer: {},
});
```

Redux Toolkitì˜ `configureStore` APIë¥¼ importí•œë‹¤. ê·¸ë¦¬ê³  ë¹„ì–´ìˆëŠ” Redux ìŠ¤í† ì–´ë¥¼ ìƒì„±í•˜ê³  exportí•œë‹¤.

<br>

## 3. Reactë¡œ Redux Store ì œê³µ

`src/index.js`

```javascript
import React from 'react';
import ReactDOM from 'react-dom/client';
import { Provider } from 'react-redux';

import App from './App';
import store from './app/store';

const root = ReactDOM.createRoot(document.getElementById('root'));

root.render(
  <Provider store={store}>
    <App />
  </Provider>
);
```

ìŠ¤í† ì–´ê°€ ìƒì„±ë˜ë©´ `src/index.js` íŒŒì¼ ì£¼ìœ„ì— React Reduxì˜ `<Provider>`ë¥¼ ì¶”ê°€í•˜ì—¬ React ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©í•˜ë„ë¡ í•  ìˆ˜ ìˆë‹¤. ì¡°ê¸ˆ ì „ì— ìƒì„±í–ˆë˜ Redux storeë¥¼ importí•˜ê³ , `<App>` ì»´í¬ë„ŒíŠ¸ë¥¼ `<Provider>`ë¡œ ê°ì‹¸ì„œ ìŠ¤í† ì–´ë¥¼ ì†ì„±ìœ¼ë¡œ ì „ë‹¬í•œë‹¤.

<br>

## 4. Redux State Slice ìƒì„±

`src/features/counter/counterSlice.js`

```javascript
import { createSlice } from '@reduxjs/toolkit';

export const counterSlice = createSlice({
  name: 'counter',
  initialState: {
    value: 0,
  },
  reducers: {
    increment: (state) => {
      state.value += 1;
    },
    decrement: (state) => {
      state.value -= 1;
    },
    incrementByAmount: (state, action) => {
      state.value += action.payload;
    },
  },
});

// ê° ë¦¬ë“€ì„œ í•¨ìˆ˜ë§ˆë‹¤ ì•¡ì…˜ ìƒì„±ìê°€ ë§Œë“¤ì–´ì§„ë‹¤.
export const { increment, decrement, incrementByAmount } = counterSlice.actions;

export default counterSlice.reducer;
```

Redux Toolkitì˜ `createSlice` APIë¥¼ importí•œë‹¤. ìŠ¬ë¼ì´ìŠ¤ë¥¼ ìƒì„±í•˜ë ¤ë©´ ìŠ¬ë¼ì´ìŠ¤ë¥¼ ì‹ë³„í•˜ëŠ” <code>ë¬¸ìì—´ ì´ë¦„</code>, ì´ˆê¸° ìƒíƒœ ê°’, ìƒíƒœ ì—…ë°ì´íŠ¸ ë°©ë²•ì„ ì •ì˜í•˜ëŠ” í•˜ë‚˜ ì´ìƒì˜ ë¦¬ë“€ì„œê°€ í•„ìš”í•˜ë‹¤. ìŠ¬ë¼ì´ìŠ¤ê°€ ìƒì„±ë˜ë©´ ìƒì„±ëœ Redux ì•¡ì…˜ ìƒì„±ìì™€ ì „ì²´ ìŠ¬ë¼ì´ìŠ¤ì— ëŒ€í•œ ë¦¬ë“€ì„œ í•¨ìˆ˜ë¥¼ ë‚´ë³´ë‚¼ ìˆ˜ ìˆë‹¤.

ReduxëŠ” ë°ì´í„° ë³µì‚¬ë³¸ì„ ë§Œë“¤ê³  ë³µì‚¬ë³¸ì„ ì—…ë°ì´íŠ¸í•˜ì—¬ ëª¨ë“  ìƒíƒœ ì—…ë°ì´íŠ¸ë¥¼ ë¶ˆë³€ìœ¼ë¡œ ì‘ì„±í•´ì•¼ í•œë‹¤. Redux Toolkitì˜ `createSlice`, `createReducer` APIë“¤ì€ ë‚´ë¶€ì—ì„œ Immerë¥¼ ì‚¬ìš©í•˜ì—¬ ì˜¬ë°”ë¥¸ ë¶ˆë³€ ì—…ë°ì´íŠ¸ê°€ ë˜ëŠ” 'mutating' ì—…ë°ì´íŠ¸ ë¡œì§ì„ ì‘ì„±í•  ìˆ˜ ìˆê²Œ í•œë‹¤.

<br>

| ğŸ’¬ `createSlice`ë¡œ ì „ë‹¬ë˜ëŠ” ê°ì²´ì—ëŠ” `reducers`ê°€ ìˆëŠ”ë°, ë§ˆì§€ë§‰ì— exportí•˜ëŠ” ì½”ë“œì—ì„  `counterSlice.reducer`ë¼ê³  ì í˜€ìˆë‹¤.                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| reducersëŠ” `createSlice`ì— ì „ë‹¬ë˜ëŠ” ì˜µì…˜ìœ¼ë¡œ ìŠ¬ë¼ì´ìŠ¤ì˜ ìƒíƒœë¥¼ ë³€ê²½í•˜ëŠ” ë¦¬ë“€ì„œ í•¨ìˆ˜ë“¤ì„ ì •ì˜í•œ ê²ƒì´ë‹¤. ê° ë¦¬ë“€ì„œ í•¨ìˆ˜ë“¤ì€ ìŠ¬ë¼ì´ìŠ¤ì˜ ìƒíƒœì™€ ì•¡ì…˜ì„ ì¸ìë¡œ ë°›ì•„ ìƒíƒœë¥¼ ë³€ê²½í•˜ëŠ” ë¡œì§ì„ í¬í•¨í•˜ê³  ìˆë‹¤. ì•¡ì…˜ì— ë”°ë¼ ìƒíƒœë¥¼ ì–´ë–»ê²Œ ë³€ê²½í•˜ëŠ”ì§€ë¥¼ ì •ì˜í•˜ê³  ìˆì§€ë§Œ ì‹¤ì œë¡œ Redux ìŠ¤í† ì–´ì— ì—°ê²°ë˜ëŠ” ë¦¬ë“€ì„œ í•¨ìˆ˜ ìì²´ëŠ” ì•„ë‹ˆë‹¤.<br><br>ë°˜ë©´ì— reducerëŠ” `createSlice` í•¨ìˆ˜ê°€ ë°˜í™˜í•˜ëŠ” ê°ì²´ ì†ì„± ì¤‘ í•˜ë‚˜ë¡œ ì‹¤ì œ Redux ìŠ¤í† ì–´ì— ì—°ê²°ë˜ëŠ” ë‹¨ì¼ ë¦¬ë“€ì„œ í•¨ìˆ˜ë¥¼ ì°¸ì¡°í•œë‹¤. ì´ ë¦¬ë“€ì„œ í•¨ìˆ˜ëŠ” reducers ì˜µì…˜ì—ì„œ ì •ì˜ëœ ëª¨ë“  ë¦¬ë“€ì„œ ë¡œì§ì„ í¬í•¨í•˜ê³ , ì•¡ì…˜ì´ ë°œìƒí–ˆì„ ë•Œ Redux ìŠ¤í† ì–´ì˜ ìƒíƒœë¥¼ ì–´ë–»ê²Œ ì—…ë°ì´íŠ¸í• ì§€ ê²°ì •í•œë‹¤. |

<br>

## 5. Storeì— Slice Reducers ì¶”ê°€

`src/app/store.js`

```javascript
import { configureStore } from '@reduxjs/toolkit';
import counterReducer from '../features/counter/counterSlice';

export default configureStore({
  reducer: {
    counter: counterReducer,
  },
});
```

ë‹¤ìŒìœ¼ë¡œ ì¡°ê¸ˆ ì „ì— ìƒì„±í•œ Counter ìŠ¬ë¼ì´ìŠ¤ì—ì„œ ë¦¬ë“€ì„œ í•¨ìˆ˜ë¥¼ ê°€ì ¸ì™€ ìŠ¤í† ì–´ì— ì¶”ê°€í•œë‹¤. `reducer` ë§¤ê°œë³€ìˆ˜ ë‚´ì— í•„ë“œë¥¼ ì •ì˜í•˜ì—¬ ìŠ¤í† ì–´ì— í•´ë‹¹ ìŠ¬ë¼ì´ìŠ¤ ë¦¬ë“€ì„œ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ í•´ë‹¹ stateì— ëŒ€í•œ ëª¨ë“  ì—…ë°ì´íŠ¸ë¥¼ ì²˜ë¦¬í•˜ë„ë¡ ì§€ì‹œí•œë‹¤.

<br>

## 6. Redux Stateì™€ Actionsë¥¼ React ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©

`src/features/counter/Counter.js`

```javascript
import React from 'react';
import { useSelector, useDispatch } from 'react-redux';
import { decrement, increment } from './counterSlice';

export function Counter() {
  const count = useSelector((state) => state.counter.value);
  const dispatch = useDispatch();

  return (
    <div>
      <div>
        <button aria-label="Increment value" onClick={() => dispatch(increment())}>
          Increment
        </button>
        <span>{count}</span>
        <button aria-label="Decrement value" onClick={() => dispatch(decrement())}>
          Decrement
        </button>
      </div>
    </div>
  );
}
```

ì´ì œ React Redux í›…ì„ ì‚¬ìš©í•˜ì—¬ React ì»´í¬ë„ŒíŠ¸ê°€ Redux ìŠ¤í† ì–´ì™€ ìƒí˜¸ì‘ìš©í•˜ë„ë¡ í•  ìˆ˜ ìˆë‹¤. `useSelector` í›…ì„ ì‚¬ìš©í•˜ì—¬ ìŠ¤í† ì–´ì—ì„œ ë°ì´í„°ë¥¼ ì½ì–´ì˜¤ê³ , `useDispatch` í›…ì„ ì‚¬ìš©í•˜ì—¬ ì•¡ì…˜ì„ dispatchí•  ìˆ˜ ìˆë‹¤.

'Increment'ì™€ 'Decrement'ë¥¼ í´ë¦­í•  ë•Œë§ˆë‹¤ ë‹¤ìŒê³¼ ê°™ì€ ì¼ì´ ë°œìƒí•œë‹¤.

- í•´ë‹¹ Redux ì•¡ì…˜ì´ ìŠ¤í† ì–´ì— dispatchëœë‹¤.
- Counter ìŠ¬ë¼ì´ìŠ¤ ë¦¬ë“€ì„œëŠ” ì•¡ì…˜ì„ í™•ì¸í•˜ê³  stateë¥¼ ì—…ë°ì´íŠ¸í•œë‹¤.
- `<Counter>` ì»´í¬ë„ŒíŠ¸ëŠ” ìŠ¤í† ì–´ì—ì„œ ìƒˆë¡œìš´ state ê°’ì„ í™•ì¸í•˜ê³  ìƒˆë¡œìš´ ë°ì´í„°ë¡œ ë¦¬ë Œë”ë§í•œë‹¤.

<br>

# ìš”ì•½

| ğŸ’¬ React Redux ì‹œì‘ ìˆœì„œ                                                                                                                                                                                                                                               |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 1. `configureStore`ë¡œ Redux ìŠ¤í† ì–´ ìƒì„± <br> 2. React ì»´í¬ë„ŒíŠ¸ì— Redux ìŠ¤í† ì–´ ì œê³µ â†’ `<Provider store={store}>` <br> 3. `createSlice`ë¡œ Redux ìŠ¬ë¼ì´ìŠ¤ ë¦¬ë“€ì„œ ìƒì„± <br> 4. ìŠ¤í† ì–´ì— ìŠ¬ë¼ì´ìŠ¤ ë¦¬ë“€ì„œ ì¶”ê°€ <br> 5. ì»´í¬ë„ŒíŠ¸ì—ì„œ `useSelector`, `useDispatch` í›…ìœ¼ë¡œ í™œìš© |

<br>

# Ref

- [React Redux docs- Quick Start](https://react-redux.js.org/tutorials/quick-start)
