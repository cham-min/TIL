# 1.1 ì‹œì‘í•˜ê¸°

**plays.json**

```json
{
  "hamlet": { "name": "Hamlet", "type": "tragedy" },
  "as-like": { "name": "As You Like It", "type": "comedy" },
  "othello": { "name": "Othello", "type": "tragedy" }
}
```

<br />

**invoices.json**

```json
[
  {
    "customer": "BigCo",
    "performances": [
      {
        "playID": "hamlet",
        "audience": 55
      },
      {
        "playID": "as-like",
        "audience": 35
      },
      {
        "playID": "othello",
        "audience": 40
      }
    ]
  }
]
```

<br />

**ê³µì—°ë£Œ ì²­êµ¬ì„œ ì¶œë ¥ ì½”ë“œ**

```javascript
function statement(invoice, plays) {
  let totalAmount = 0;
  let volumeCredits = 0;
  let result = `ì²­êµ¬ ë‚´ì—­ (ê³ ê°ëª…: ${invoice.customer})\n`;

  /**
   * Numberì„ ë‹¬ëŸ¬($)ë¡œ ë³€í™˜
   * (e.g., format(45000 / 100) â¡ï¸ '$450.00')
   */
  const format = new Intl.NumberFormat('en-US', {
    style: 'currency',
    currency: 'USD',
    minimumFractionDigits: 2,
  }).format;

  for (let perf of invoice.performances) {
    const play = plays[perf.playID];
    let thisAmount = 0;

    switch (play.type) {
      case 'tragedy':
        thisAmount = 40000; // ê¸°ë³¸ ë¹„ìš© 40,000 ì„¼íŠ¸
        if (perf.audience > 30) {
          // ê´€ê° 30ëª… ì´ˆê³¼ì‹œ ì¸ì›ë‹¹ 1,000 ì„¼íŠ¸ ì¶”ê°€
          thisAmount += 1000 * (perf.audience - 30);
        }
        break;
      case 'comedy':
        thisAmount = 30000;
        if (perf.audience > 20) {
          thisAmount += 10000 + 500 * (perf.audience - 20);
        }
        thisAmount += 300 * perf.audience;
        break;
      default:
        throw new Error(`ì•Œ ìˆ˜ ì—†ëŠ” ì¥ë¥´: ${play.type}`);
    }

    volumeCredits += Math.max(perf.audience - 30, 0); // ê´€ê° 30ëª… ì´ˆê³¼ì‹œ 1ëª…ë‹¹ 1ì 
    if (play.type === 'comedy') volumeCredits += Math.floor(perf.audience / 5); // ì½”ë¯¸ë”” ê´€ê°ì€ 5ëª…ë‹¹ 1ì  ì¶”ê°€ í¬ì¸íŠ¸

    result += ` ${play.name}: ${format(thisAmount / 100)} (${perf.audience}ì„)\n`;
    totalAmount += thisAmount;
  }

  result += `ì´ì•¡: ${format(totalAmount / 100)}\n`;
  result += `ì ë¦½ í¬ì¸íŠ¸: ${volumeCredits}ì \n`;

  /**
   * ê²°ê³¼ ë°˜í™˜
   * ì²­êµ¬ ë‚´ì—­ (ê³ ê°ëª…: BigCo)
   * Hamlet: $650.00 (55ì„)
   * As You Like It: $580.00 (35ì„)
   * Othello: $500.00 (40ì„)
   * ì´ì•¡: $1,730.00
   * ì ë¦½ í¬ì¸íŠ¸: 47ì 
   */
  return result;
}
```

<br />

# 1.2 ì˜ˆì‹œ í”„ë¡œê·¸ë¨ ì†Œê°

- âœ… **í”„ë¡œê·¸ë¨ êµ¬ì¡°ê°€ ë¹ˆì•½í•˜ë‹¤ë©´ êµ¬ì¡°ë¶€í„° ë°”ë¡œì¡ì€ ë’¤ ê¸°ëŠ¥ ìˆ˜ì •í•˜ê¸°** - ì„¤ê³„ê°€ ë‚˜ìœ ì‹œìŠ¤í…œì€ ìˆ˜ì •í•˜ê¸° ì–´ë µë‹¤. ê¸´ ì½”ë“œë¥¼ ìˆ˜ì •í•  ë•Œì—ëŠ” í”„ë¡œê·¸ë¨ ì‘ë™ ë°©ì‹ì„ ë” ì‰½ê²Œ íŒŒì•…í•  ìˆ˜ ìˆë„ë¡ ì½”ë“œë¥¼ ì—¬ëŸ¬ í•¨ìˆ˜ì™€ í”„ë¡œê·¸ë¨ ìš”ì†Œë¡œ ì¬êµ¬ì„±í•œë‹¤.
- âœ… **ì²­êµ¬ ë‚´ì—­ì„ HTMLë¡œ ì¶œë ¥í•˜ëŠ” ê¸°ëŠ¥ì´ ì¶”ê°€ëœë‹¤ë©´?** - ëŒ€ë¶€ë¶„ í•¨ìˆ˜ ë³µì‚¬ë³¸ì„ ë§Œë“  í›„ HTMLì„ ì¶œë ¥í•˜ëŠ” ì‹ìœ¼ë¡œ ì²˜ë¦¬í•  ê²ƒì´ë‹¤. ì¶”í›„ì— ì²­êµ¬ì„œ ë¡œì§ì„ ë³€ê²½í•´ì•¼ í•  ë•Œë§ˆë‹¤ ê¸°ì¡´ í•¨ìˆ˜ì™€ HTML ë²„ì „ í•¨ìˆ˜ ëª¨ë‘ë¥¼ ìˆ˜ì •í•´ì•¼ í•œë‹¤. ë˜í•œ ì—°ê·¹ì˜ ìˆ˜ê°€ ëŠ˜ì–´ë‚˜ëŠ” ë“±ì˜ ìš”êµ¬ì‚¬í•­ì€ ì–¸ì œë“ ì§€ ì˜¤ê¸° ë§ˆë ¨ì´ë‹¤. ì´ì²˜ëŸ¼ ë³„ë„ì˜ í•¨ìˆ˜ë¥¼ ë³µì‚¬í•˜ì—¬ ìƒì„±í•œë‹¤ë©´ ì •ì±…ì´ ë³µì¡í•´ì§ˆìˆ˜ë¡ ìˆ˜ì •í•˜ê¸° ì–´ë ¤ì›Œì§„ë‹¤.

<br />

# 1.3 ë¦¬íŒ©í„°ë§ ì²« ë‹¨ê³„

- âœ… **ë¦¬íŒ©í„°ë§ ì½”ë“œ ì˜ì—­ í…ŒìŠ¤íŠ¸ ì½”ë“œ ìƒì„±** - `statement()` í•¨ìˆ˜ì˜ ê²½ìš° ë‹¤ì–‘í•œ ì¥ë¥´ì˜ ì—°ê·¹ ì²­êµ¬ì„œë¥¼ ë¯¸ë¦¬ ì‘ì„±í•˜ì—¬ ë¬¸ìì—´ í˜•íƒœë¡œ ì¤€ë¹„í•˜ì—¬ `statement()`ê°€ ë°˜í™˜í•œ ë¬¸ìì—´ê³¼ ë¹„êµí•œë‹¤. í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ì‘ì„±í•˜ëŠ” ë° ì‹œê°„ì´ ê±¸ë¦¬ì§€ë§Œ, ë””ë²„ê¹… ì‹œê°„ì´ ì¤„ì–´ì„œ ì „ì²´ ì‘ì—… ì‹œê°„ì€ ë‹¨ì¶•ë  ê²ƒì´ë‹¤.

<br />

# 1.4 statement() í•¨ìˆ˜ ìª¼ê°œê¸°

- âœ… **ê¸´ í•¨ìˆ˜ë¥¼ ë¦¬íŒ©í„°ë§í•  ë•ŒëŠ” ì „ì²´ ë™ì‘ì„ ê° ë¶€ë¶„ìœ¼ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆëŠ” ì§€ì ì„ ì°¾ê¸°** - `statement()` í•¨ìˆ˜ì˜ ê²½ìš° `switch`ë¬¸ì´ í•œ ë²ˆì˜ ê³µì—°ì— ëŒ€í•œ ìš”ê¸ˆì„ ê³„ì‚°í•˜ê³  ìˆë‹¤.
- âœ… **ì½”ë“œ ì¡°ê°ì„ ë³„ë„ í•¨ìˆ˜ë¡œ ì¶”ì¶œí•˜ëŠ” ë°©ì‹** - `amountFor(aPerformance)`ë¼ëŠ” í•¨ìˆ˜ëª…ìœ¼ë¡œ ì‘ì„±í•˜ì—¬ ì½”ë“œê°€ í•˜ëŠ” ì¼ì„ ì„¤ëª…í•´ì•¼ í•œë‹¤. ë³„ë„ í•¨ìˆ˜ë¡œ ë¹¼ë‚¼ ë•Œ ìœ íš¨ë²”ìœ„ë¥¼ ë²—ì–´ë‚˜ëŠ” ë³€ìˆ˜ê°€ ìˆëŠ”ì§€ í™•ì¸í•œë‹¤. `perf`, `play`, `thisAmount`ê°€ ì—¬ê¸° ì†í•œë‹¤.
- âœ… **ê°’ì´ ë³€ê²½ë˜ëŠ”ê°€?** - `perf`, `play`ëŠ” ê°’ì„ ë³€ê²½í•˜ì§€ ì•Šê¸°ì— ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬í•˜ë©´ ëœë‹¤. `thisAmount`ëŠ” í•¨ìˆ˜ ë‚´ì—ì„œ ê°’ì´ ë°”ë€Œë¯€ë¡œ ì¡°ì‹¬íˆ ë‹¤ë£¬ë‹¤. ê°’ì´ ë°”ë€ŒëŠ” ë³€ìˆ˜ê°€ í•˜ë‚˜ë¿ì´ë¯€ë¡œ í•´ë‹¹ ê°’ì„ ì´ˆê¸°í™”í•˜ê³  ë°˜í™˜í•˜ë„ë¡ ì‘ì„±í•´ë³¸ë‹¤.

  ```javascript
  function amountFor(perf, play) {
    let thisAmount = 0;

    switch (play.type) {
      case 'tragedy':
        thisAmount = 40000;
        if (perf.audience > 30) {
          thisAmount += 1000 * (perf.audience - 30);
        }
        break;
      case 'comedy':
        thisAmount = 30000;
        if (perf.audience > 20) {
          thisAmount += 10000 + 500 * (perf.audience - 20);
        }
        thisAmount += 300 * perf.audience;
        break;
      default:
        throw new Error(`ì•Œ ìˆ˜ ì—†ëŠ” ì¥ë¥´: ${play.type}`);
    }
    return thisAmount; // âœ… í•¨ìˆ˜ ë‚´ì—ì„œ ê°’ì´ ë°”ë€ŒëŠ” ë³€ìˆ˜ ë°˜í™˜
  }
  ```

  ```javascript
  // ê°œì„ ëœ statement() í•¨ìˆ˜
  function statement(invoice, plays) {
    // function amountFor(perf, play) {}

    let totalAmount = 0;
    let volumeCredits = 0;
    let result = `ì²­êµ¬ ë‚´ì—­ (ê³ ê°ëª…: ${invoice.customer})\n`;

    const format = new Intl.NumberFormat('en-US', {
      style: 'currency',
      currency: 'USD',
      minimumFractionDigits: 2,
    }).format;

    for (let perf of invoice.performances) {
      const play = plays[perf.playID];
      let thisAmount = amountFor(perf, play); // âœ… amountFor() í•¨ìˆ˜ë¡œ ë¶„ë¦¬ ì™„ë£Œ
      volumeCredits += Math.max(perf.audience - 30, 0);
      if ('comedy' === play.type) volumeCredits += Math.floor(perf.audience / 5);

      result += ` ${play.name}: ${format(thisAmount / 100)} (${perf.audience}ì„)\n`;
      totalAmount += thisAmount;
    }
    result += `ì´ì•¡: ${format(totalAmount / 100)}\n`;
    result += `ì ë¦½ í¬ì¸íŠ¸: ${volumeCredits}ì \n`;
    return result;
  }
  ```

  <br />

- âœ… **ëª…í™•í•˜ê²Œ í‘œí˜„í•  ìˆ˜ ìˆëŠ” ë°©ë²• ê²€í† í•˜ê¸°** - ë³€ìˆ˜ëª…, ë§¤ê°œë³€ìˆ˜ëª… ëª…í™•í•˜ê²Œ ë°”ê¾¸ê¸°(e.g., `thisAmount` â¡ï¸ `result`, `perf` â¡ï¸ `aPerformance`).

  - `result` - í•¨ìˆ˜ì˜ ë°˜í™˜ ê°’ì„ `result`ë¼ê³  ì‘ì„±í•˜ë©´ ë³€ìˆ˜ì˜ ì—­í• ì„ ì‰½ê²Œ ì•Œ ìˆ˜ ìˆë‹¤.
  - `aPerformance` - ë™ì  íƒ€ì… ì–¸ì–´(e.g., JavaScript)ë¥¼ ì‚¬ìš©í•  ë•ŒëŠ” íƒ€ì…ì´ ë“œëŸ¬ë‚˜ê²Œ ì‘ì„±í•˜ë©´ ë„ì›€ëœë‹¤. ì ‘ë‘ì–´ë¡œ íƒ€ì…ì„ ì ìœ¼ë©° ì—­í• ì´ ëšœë ·í•˜ì§€ ì•Šì„ ë•Œì—ëŠ” ë¶€ì •ê´€ì‚¬(a/an)ë¥¼ ë¶™ì´ë©°, íƒ€ì…ì´ ëšœë ·í•  ë•Œì—ëŠ” `arr`, `obj`, `num`, `str`, `is`ë“±ì„ ì‚¬ìš©í•œë‹¤. ğŸ’­ ì‹¤ë¬´ì—ì„œëŠ” ì •ì  ì–¸ì–´ì¸ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•˜ë¯€ë¡œ ì°¸ê³ ë§Œ í•´ë‘ì.

  ```javascript
  function amountFor(aPerformance, play) {
    let result = 0;

    switch (play.type) {
      case 'tragedy':
        result = 40000;
        if (aPerformance.audience > 30) {
          result += 1000 * (aPerformance.audience - 30);
        }
        break;
      case 'comedy':
        result = 30000;
        if (aPerformance.audience > 20) {
          result += 10000 + 500 * (aPerformance.audience - 20);
        }
        result += 300 * aPerformance.audience;
        break;
      default:
        throw new Error(`ì•Œ ìˆ˜ ì—†ëŠ” ì¥ë¥´: ${play.type}`);
    }
    return result;
  }
  ```

  <br />

- âœ… **ì„ì‹œ ë³€ìˆ˜ë¥¼ ì§ˆì˜ í•¨ìˆ˜ë¡œ ë°”ê¾¸ê¸°** - `amountFor()`í•¨ìˆ˜ì˜ `aPerformance`ëŠ” ë£¨í”„ ë³€ìˆ˜ì—ì„œ ì˜¤ë©°, ë°˜ë³µë¬¸ì„ ëŒ ë•Œë§ˆë‹¤ ìì—°ìŠ¤ëŸ½ê²Œ ê°’ì´ ë³€í•˜ì§€ë§Œ `play`ëŠ” `aPerformance`ì—ì„œ ì–»ê¸° ë•Œë¬¸ì— ì• ì´ˆì— ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬í•  í•„ìš”ê°€ ì—†ë‹¤. ë”°ë¼ì„œ `amountFor()` ë‚´ì—ì„œ ë‹¤ì‹œ ê³„ì‚°í•˜ë©´ ëœë‹¤. ì„ì‹œ ë³€ìˆ˜ ë•Œë¬¸ì— ë¡œì»¬ ë²”ìœ„ì— ì¡´ì¬í•˜ëŠ” ì´ë¦„ì´ ëŠ˜ì–´ë‚˜ì„œ ì¶”ì¶œ ì‘ì—…ì´ ë³µì¡í•´ì§€ê¸°ì— ì´ì™€ ê°™ì€ ë³€ìˆ˜ëŠ” ìµœëŒ€í•œ ì œê±°í•œë‹¤. ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œ ì„ì‹œ ë³€ìˆ˜ë¥¼ ì§ˆì˜ í•¨ìˆ˜ë¡œ ë°”ê¾¸ëŠ” ë¦¬íŒ©í„°ë§ì„ ì§„í–‰í•œë‹¤.

  ```javascript
  function statement(invoice, plays) {
    // function amountFor(aPerformance, play) {}
    function playFor(aPerformance) {
      return plays[aPerformance.playID];
    }

    let totalAmount = 0;
    let volumeCredits = 0;
    let result = `ì²­êµ¬ ë‚´ì—­ (ê³ ê°ëª…: ${invoice.customer})\n`;

    const format = new Intl.NumberFormat('en-US', {
      style: 'currency',
      currency: 'USD',
      minimumFractionDigits: 2,
    }).format;

    for (let perf of invoice.performances) {
      const play = playFor(perf); // 1ï¸âƒ£ 1ë‹¨ê³„ ìš°ë³€(plays[perf.playID];)ì„ í•¨ìˆ˜ë¡œ ì¶”ì¶œí•˜ê¸°
      let thisAmount = amountFor(perf, play);
      volumeCredits += Math.max(perf.audience - 30, 0);
      if ('comedy' === play.type) volumeCredits += Math.floor(perf.audience / 5);

      result += ` ${play.name}: ${format(thisAmount / 100)} (${perf.audience}ì„)\n`;
      totalAmount += thisAmount;
    }
    result += `ì´ì•¡: ${format(totalAmount / 100)}\n`;
    result += `ì ë¦½ í¬ì¸íŠ¸: ${volumeCredits}ì \n`;
    return result;
  }
  ```

  ```javascript
  function statement(invoice, plays) {
    // function amountFor(aPerformance, play) {}
    function playFor(aPerformance) {
      return plays[aPerformance.playID];
    }

    let totalAmount = 0;
    let volumeCredits = 0;
    let result = `ì²­êµ¬ ë‚´ì—­ (ê³ ê°ëª…: ${invoice.customer})\n`;

    const format = new Intl.NumberFormat('en-US', {
      style: 'currency',
      currency: 'USD',
      minimumFractionDigits: 2,
    }).format;

    for (let perf of invoice.performances) {
      let thisAmount = amountFor(perf, playFor(perf)); // 2ï¸âƒ£ 2ë‹¨ê³„ ë³€ìˆ˜ ì¸ë¼ì¸í•˜ê¸°
      volumeCredits += Math.max(perf.audience - 30, 0);
      if ('comedy' === playFor(perf).type) volumeCredits += Math.floor(perf.audience / 5); // 2ï¸âƒ£ 2ë‹¨ê³„ ë³€ìˆ˜ ì¸ë¼ì¸í•˜ê¸°

      result += ` ${playFor(perf).name}: ${format(thisAmount / 100)} (${perf.audience}ì„)\n`; // 2ï¸âƒ£ 2ë‹¨ê³„ ë³€ìˆ˜ ì¸ë¼ì¸í•˜ê¸°
      totalAmount += thisAmount;
    }
    result += `ì´ì•¡: ${format(totalAmount / 100)}\n`;
    result += `ì ë¦½ í¬ì¸íŠ¸: ${volumeCredits}ì \n`;
    return result;
  }
  ```

  <br />

- âœ… **ì§€ì—­ ë³€ìˆ˜ ì œê±°í•˜ê¸°** - ì§€ì—­ ë³€ìˆ˜ë¥¼ ì œê±°í•˜ë©´ ì¶”ì¶œ ì‘ì—…ì´ ì‰¬ì›Œì§„ë‹¤. ìœ íš¨ë²”ìœ„ë¥¼ ì‹ ê²½ ì¨ì•¼ í•  ëŒ€ìƒì´ ì¤„ì–´ë“¤ê¸° ë•Œë¬¸ì´ë‹¤.

  ```javascript
  // 4ï¸âƒ£ 4ë‹¨ê³„ í•„ìš” ì—†ì–´ì§„ ë§¤ê°œë³€ìˆ˜ `play` ì œê±°
  function amountFor(aPerformance) {
    let result = 0;

    // 3ï¸âƒ£ 3ë‹¨ê³„ í•¨ìˆ˜ ì„ ì–¸ ë°”ê¾¸ê¸° - playë¥¼ playFor() í˜¸ì¶œë¡œ ë³€ê²½
    switch (playFor(aPerformance).type) {
      case 'tragedy':
        result = 40000;
        if (aPerformance.audience > 30) {
          result += 1000 * (aPerformance.audience - 30);
        }
        break;
      case 'comedy':
        result = 30000;
        if (aPerformance.audience > 20) {
          result += 10000 + 500 * (aPerformance.audience - 20);
        }
        result += 300 * aPerformance.audience;
        break;
      default:
        throw new Error(`ì•Œ ìˆ˜ ì—†ëŠ” ì¥ë¥´: ${playFor(aPerformance).type}`); // 3ï¸âƒ£ 3ë‹¨ê³„ í•¨ìˆ˜ ì„ ì–¸ ë°”ê¾¸ê¸° - playë¥¼ playFor() í˜¸ì¶œë¡œ ë³€ê²½
    }
    return result;
  }
  ```

  ```javascript
  function statement(invoice, plays) {
    // function amountFor(aPerformance) {}
    // function playFor(aPerformance) {}

    let totalAmount = 0;
    let volumeCredits = 0;
    let result = `ì²­êµ¬ ë‚´ì—­ (ê³ ê°ëª…: ${invoice.customer})\n`;
    const format = new Intl.NumberFormat('en-US', {
      style: 'currency',
      currency: 'USD',
      minimumFractionDigits: 2,
    }).format;

    for (let perf of invoice.performances) {
      let thisAmount = amountFor(perf); // 4ï¸âƒ£ 4ë‹¨ê³„ í•„ìš” ì—†ì–´ì§„ ë§¤ê°œë³€ìˆ˜ ì œê±°
      volumeCredits += Math.max(perf.audience - 30, 0);
      if ('comedy' === playFor(perf).type) volumeCredits += Math.floor(perf.audience / 5);
      result += ` ${playFor(perf).name}: ${format(thisAmount / 100)} (${perf.audience}ì„)\n`;
      totalAmount += thisAmount;
    }
    result += `ì´ì•¡: ${format(totalAmount / 100)}\n`;
    result += `ì ë¦½ í¬ì¸íŠ¸: ${volumeCredits}ì \n`;
    return result;
  }
  ```

  <br />

- âœ… **ì¡°ê¸ˆì”© ë³€ê²½í•˜ê³  ë§¤ë²ˆ í…ŒìŠ¤íŠ¸í•˜ê¸°** - ìˆ˜ì •ì„ ì‘ì€ ë‹¨ê³„ë¡œ ë‚˜ëˆ„ì–´ ì§„í–‰í•˜ê³  ê³§ë°”ë¡œ ì»´íŒŒì¼í•˜ì—¬ í…ŒìŠ¤íŠ¸í•œë‹¤. í•œ ê°€ì§€ë¥¼ ìˆ˜ì •í•  ë•Œë§ˆë‹¤ í…ŒìŠ¤íŠ¸í•˜ë©´, ì˜¤ë¥˜ê°€ ë°œìƒí•´ë„ ë³€ê²½ í­ì´ ì‘ì•„ì„œ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ì‰½ë‹¤.
- âœ… **ë³€ìˆ˜ ì¸ë¼ì¸í•˜ê¸°** - `amountFor()`ëŠ” ì„ì‹œ ë³€ìˆ˜ì¸ `thisAmount` ê°’ì„ ì„¤ì •í•˜ëŠ” ë° ì‚¬ìš©ë˜ë©°, ê°’ì´ ë‹¤ì‹œ ë°”ë€Œì§€ëŠ” ì•Šìœ¼ë¯€ë¡œ ë³€ìˆ˜ ì¸ë¼ì¸í•˜ê¸°ë¥¼ ì ìš©í•œë‹¤.

  ```javascript
  /* ğŸ’­ ì—¬ëŸ¬ ê³³ì—ì„œ ì‚¬ìš©í•˜ë©´ ì˜¤íˆë ¤ ë³€ìˆ˜/ìƒìˆ˜ë¡œ ë¬¶ê³¤ í–ˆì—ˆëŠ”ë° ê°’ì´ ë°”ë€ŒëŠ”ì§€ë¥¼ ê³ ë ¤í•˜ì—¬ ì¸ë¼ì¸í•˜ê¸°ë¥¼ ì ìš©í•˜ì. */
  function statement(invoice, plays) {
    // function amountFor(aPerformance) {}
    // function playFor(aPerformance) {}
    let totalAmount = 0;
    let volumeCredits = 0;
    let result = `ì²­êµ¬ ë‚´ì—­ (ê³ ê°ëª…: ${invoice.customer})\n`;
    const format = new Intl.NumberFormat('en-US', {
      style: 'currency',
      currency: 'USD',
      minimumFractionDigits: 2,
    }).format;

    for (let perf of invoice.performances) {
      volumeCredits += Math.max(perf.audience - 30, 0);
      if ('comedy' === playFor(perf).type) volumeCredits += Math.floor(perf.audience / 5);
      result += ` ${playFor(perf).name}: ${format(amountFor(perf) / 100)} (${perf.audience}ì„)\n`; // 5ï¸âƒ£ 5ë‹¨ê³„ thisAmount ë³€ìˆ˜ ì¸ë¼ì¸í•˜ê¸°
      totalAmount += amountFor(perf); // 5ï¸âƒ£ 5ë‹¨ê³„ thisAmount ë³€ìˆ˜ ì¸ë¼ì¸í•˜ê¸°
    }
    result += `ì´ì•¡: ${format(totalAmount / 100)}\n`;
    result += `ì ë¦½ í¬ì¸íŠ¸: ${volumeCredits}ì \n`;
    return result;
  }
  ```

  <br />

- âœ… **ì ë¦½ í¬ì¸íŠ¸ ê³„ì‚° ì½”ë“œ ì¶”ì¶œí•˜ê¸°**

  ```javascript
  function statement(invoice, plays) {
    // function amountFor(aPerformance) {}
    // function playFor(aPerformance) {}
    function volumeCreditsFor(aPerformance) {
      let volumeCredits = 0; // ê²°ê³¼ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ë³€ìˆ˜ëª… resultë¡œ ë³€ê²½í•˜ê¸°
      volumeCredits += Math.max(aPerformance.audience - 30, 0);
      if ('comedy' === playFor(aPerformance).type) {
        volumeCredits += Math.floor(aPerformance.audience / 5);
      }
      return volumeCredits;
    }

    let totalAmount = 0;
    let volumeCredits = 0;
    let result = `ì²­êµ¬ ë‚´ì—­ (ê³ ê°ëª…: ${invoice.customer})\n`;
    const format = new Intl.NumberFormat('en-US', {
      style: 'currency',
      currency: 'USD',
      minimumFractionDigits: 2,
    }).format;

    for (let perf of invoice.performances) {
      volumeCredits += volumeCreditsFor(perf); // 6ï¸âƒ£ 6ë‹¨ê³„ ì ë¦½ í¬ì¸íŠ¸ ê³„ì‚° ì½”ë“œ ì¶”ì¶œí•˜ê¸°
      result += ` ${playFor(perf).name}: ${format(amountFor(perf) / 100)} (${perf.audience}ì„)\n`;
      totalAmount += amountFor(perf);
    }
    result += `ì´ì•¡: ${format(totalAmount / 100)}\n`;
    result += `ì ë¦½ í¬ì¸íŠ¸: ${volumeCredits}ì \n`;
    return result;
  }
  ```

  <br />

- âœ… **format ë³€ìˆ˜ ì œê±°í•˜ê¸° ë° í•¨ìˆ˜ ì„ ì–¸ ë°”ê¾¸ê¸°** - ì„ì‹œ ë³€ìˆ˜ëŠ” ì¶”í›„ ë¬¸ì œë¥¼ ì¼ìœ¼í‚¬ ìˆ˜ ìˆìœ¼ë©°, ìì‹ ì´ ì†í•œ ë£¨í‹´ì—ì„œë§Œ ì˜ë¯¸ê°€ ìˆì–´ì„œ ë£¨í‹´ì´ ê¸¸ê³  ë³µì¡í•´ì§€ê¸° ì‰½ë‹¤. `format`ì€ ì„ì‹œ ë³€ìˆ˜ì— í•¨ìˆ˜ë¥¼ ëŒ€ì…í•œ í˜•íƒœì¸ë°, í•¨ìˆ˜ë¥¼ ì§ì ‘ ì„ ì–¸í•˜ì—¬ ì‚¬ìš©í•˜ë„ë¡ ê°œì„ í•œë‹¤. `format`ì€ í•¨ìˆ˜ê°€ í•˜ëŠ” ì¼ì„ ì¶©ë¶„íˆ ì„¤ëª…í•´ì£¼ì§€ ëª»í•˜ë¯€ë¡œ ë¬´ìŠ¨ ì¼ì„ í•˜ëŠ”ì§€ ì•Œ ìˆ˜ ìˆë„ë¡ ì í•©í•œ ì´ë¦„ì„ ì§€ì–´ì¤€ë‹¤.

  ```javascript
  function statement(invoice, plays) {
    // function amountFor(aPerformance) {}
    // function playFor(aPerformance) {}
    // function volumeCreditsFor(aPerformance) {}
    function usd(aNumber) {
      return new Intl.NumberFormat('en-US', {
        style: 'currency',
        currency: 'USD',
        minimumFractionDigits: 2,
      }).format(aNumber / 100); // ë‹¨ìœ„ ë³€í™˜ ë¡œì§(ì„¼íŠ¸ â¡ï¸ ë‹¬ëŸ¬)ë„ í•¨ìˆ˜ ë‚´ë¡œ ì´ë™ì‹œí‚´
    }

    let totalAmount = 0;
    let volumeCredits = 0;
    let result = `ì²­êµ¬ ë‚´ì—­ (ê³ ê°ëª…: ${invoice.customer})\n`;

    for (let perf of invoice.performances) {
      volumeCredits += volumeCreditsFor(perf);
      result += ` ${playFor(perf).name}: ${usd(amountFor(perf))} (${perf.audience}ì„)\n`; // 7ï¸âƒ£ 7ë‹¨ê³„ format ë³€ìˆ˜ ì œê±°í•˜ê¸°
      totalAmount += amountFor(perf);
    }

    result += `ì´ì•¡: ${usd(totalAmount)}\n`; // 7ï¸âƒ£ 7ë‹¨ê³„ format ë³€ìˆ˜ ì œê±°í•˜ê¸°
    result += `ì ë¦½ í¬ì¸íŠ¸: ${volumeCredits}ì \n`;
    return result;
  }
  ```

<br />

- âœ… **volumeCredits ë³€ìˆ˜ ì œê±°í•˜ê¸°** - ë°˜ë³µë¬¸ì„ ëŒ ë•Œë§ˆë‹¤ ê°’ì„ ëˆ„ì í•˜ë¯€ë¡œ ë¦¬íŒ©í„°ë§í•˜ê¸° ê¹Œë‹¤ë¡­ë‹¤. ë°˜ë³µë¬¸ ìª¼ê°œê¸°ë¡œ ê°’ì´ ëˆ„ì ë˜ëŠ” ë¶€ë¶„ì„ ë”°ë¡œ ëº€ë‹¤. ì´í›„ ë¬¸ì¥ ìŠ¬ë¼ì´ë“œí•˜ê¸°ë¡œ `volumeCredits` ë³€ìˆ˜ë¥¼ ì ì ˆí•œ ìœ„ì¹˜ë¡œ ì˜®ê¸´ë‹¤.

  ```javascript
  function statement(invoice, plays) {
    // function amountFor(aPerformance) {}
    // function playFor(aPerformance) {}
    // function volumeCreditsFor(aPerformance) {}
    // function usd(aNumber) {}
    let totalAmount = 0;
    let result = `ì²­êµ¬ ë‚´ì—­ (ê³ ê°ëª…: ${invoice.customer})\n`;

    for (let perf of invoice.performances) {
      result += ` ${playFor(perf).name}: ${usd(amountFor(perf))} (${perf.audience}ì„)\n`;
      totalAmount += amountFor(perf);
    }

    let volumeCredits = 0; // 9ï¸âƒ£ 9ë‹¨ê³„ volumeCredits ë¬¸ì¥ ìŠ¬ë¼ì´ë“œ í•˜ê¸° - ë°˜ë³µë¬¸ ë°”ë¡œ ì•ìœ¼ë¡œ ì˜®ê¸°ê¸°
    // 8ï¸âƒ£ 8ë‹¨ê³„ volumeCredits ë°˜ë³µë¬¸ ìª¼ê°œê¸°
    for (let perf of invoice.performances) {
      volumeCredits += volumeCreditsFor(perf);
    }

    result += `ì´ì•¡: ${usd(totalAmount)}\n`;
    result += `ì ë¦½ í¬ì¸íŠ¸: ${volumeCredits}ì \n`;
    return result;
  }
  ```

  ìœ„ ë°˜ë³µë¬¸ ìª¼ê°œê¸°ì™€ ë¬¸ì¥ ìŠ¬ë¼ì´ë“œë¥¼ í†µí•´ì„œ ê´€ë ¨ëœ ë¬¸ì¥ë“¤ì„ í•œë° ëª¨ì•„ë‘ë©´ ì„ì‹œ ë³€ìˆ˜ë¥¼ ì§ˆì˜ í•¨ìˆ˜ë¡œ ë°”ê¾¸ê¸°ê°€ ìˆ˜ì›”í•´ì§„ë‹¤. `volumeCredits` ê°’ ê³„ì‚° ì½”ë“œë¥¼ í•¨ìˆ˜ë¡œ ì¶”ì¶œí•˜ëŠ” ì‘ì—…ì„ ì§„í–‰í•œë‹¤. ë§ˆì°¬ê°€ì§€ë¡œ í•¨ìˆ˜ ì¶”ì¶œì´ ëë‚˜ë©´ ê³§ë°”ë¡œ ë³€ìˆ˜ ì¸ë¼ì¸ ì‘ì—…ì„ ì§„í–‰í•œë‹¤.

  ```javascript
  function statement(invoice, plays) {
    // function amountFor(aPerformance) {}
    // function playFor(aPerformance) {}
    // function volumeCreditsFor(aPerformance) {}
    // function usd(aNumber) {}

    // ğŸ”Ÿ 10ë‹¨ê³„ í•¨ìˆ˜ë¡œ ì¶”ì¶œí•˜ê¸°
    function totalVolumeCredits() {
      let volumeCredits = 0;
      for (let perf of invoice.performances) {
        volumeCredits += volumeCreditsFor(perf);
      }
      return volumeCredits;
    }

    let totalAmount = 0;
    let result = `ì²­êµ¬ ë‚´ì—­ (ê³ ê°ëª…: ${invoice.customer})\n`;

    for (let perf of invoice.performances) {
      result += ` ${playFor(perf).name}: ${usd(amountFor(perf))} (${perf.audience}ì„)\n`;
      totalAmount += amountFor(perf);
    }

    let volumeCredits = totalVolumeCredits(); // ğŸ”Ÿ 10ë‹¨ê³„ í•¨ìˆ˜ë¡œ ì¶”ì¶œí•˜ê¸°

    result += `ì´ì•¡: ${usd(totalAmount)}\n`;
    result += `ì ë¦½ í¬ì¸íŠ¸: ${volumeCredits}ì \n`;
    return result;
  }
  ```

  ```javascript
  function statement(invoice, plays) {
    // function amountFor(aPerformance) {}
    // function playFor(aPerformance) {}
    // function volumeCreditsFor(aPerformance) {}
    // function usd(aNumber) {}
    function totalVolumeCredits() {
      let volumeCredits = 0; // ê²°ê³¼ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ë³€ìˆ˜ëª… resultë¡œ ë³€ê²½í•˜ê¸°
      for (let perf of invoice.performances) {
        volumeCredits += volumeCreditsFor(perf);
      }
      return volumeCredits;
    }

    let totalAmount = 0;
    let result = `ì²­êµ¬ ë‚´ì—­ (ê³ ê°ëª…: ${invoice.customer})\n`;

    for (let perf of invoice.performances) {
      result += ` ${playFor(perf).name}: ${usd(amountFor(perf))} (${perf.audience}ì„)\n`;
      totalAmount += amountFor(perf);
    }

    result += `ì´ì•¡: ${usd(totalAmount)}\n`;
    result += `ì ë¦½ í¬ì¸íŠ¸: ${totalVolumeCredits()}ì \n`; // 1ï¸âƒ£1ï¸âƒ£ 11ë‹¨ê³„ ë³€ìˆ˜ ì¸ë¼ì¸í•˜ê¸°
    return result;
  }
  ```

<br />

- âœ… **totalAmount** ë³€ìˆ˜ ì œê±°í•˜ê¸° - ì•ì„  `volumeCredits` ë³€ìˆ˜ ì œê±°í•˜ê¸°ì²˜ëŸ¼ ë¨¼ì € ë°˜ë³µë¬¸ì„ ìª¼ê°œê³ , ì´ˆê¸°í™” ë¬¸ì¥ì„ ì˜®ê¸°ê³ (ë¬¸ì¥ ìŠ¬ë¼ì´ë“œ) í•¨ìˆ˜ë¥¼ ì¶”ì¶œí›„ ë³€ìˆ˜ ì¸ë¼ì¸í•˜ê¸°ë¥¼ ì§„í–‰í•œë‹¤.

  ```javascript
  function statement(invoice, plays) {
    // function amountFor(aPerformance) {}
    // function playFor(aPerformance) {}
    // function volumeCreditsFor(aPerformance) {}
    // function usd(aNumber) {}
    // function totalVolumeCredits() {}
    function totalAmount() {
      let totalAmount = 0; // ê²°ê³¼ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ë³€ìˆ˜ëª… resultë¡œ ë³€ê²½í•˜ê¸°
      for (let perf of invoice.performances) {
        totalAmount += amountFor(perf);
      }
      return totalAmount;
    }

    let result = `ì²­êµ¬ ë‚´ì—­ (ê³ ê°ëª…: ${invoice.customer})\n`;
    for (let perf of invoice.performances) {
      result += ` ${playFor(perf).name}: ${usd(amountFor(perf))} (${perf.audience}ì„)\n`;
    }
    result += `ì´ì•¡: ${usd(totalAmount())}\n`;
    result += `ì ë¦½ í¬ì¸íŠ¸: ${totalVolumeCredits()}ì \n`;
    return result;
  }
  ```

<br />

# 1.5 ì¤‘ê°„ ì ê²€: ë‚œë¬´í•˜ëŠ” ì¤‘ì²© í•¨ìˆ˜

```javascript
function statement(invoice, plays) {
  let result = `ì²­êµ¬ ë‚´ì—­ (ê³ ê°ëª…: ${invoice.customer})\n`;
  for (let perf of invoice.performances) {
    result += ` ${playFor(perf).name}: ${usd(amountFor(perf))} (${perf.audience}ì„)\n`;
  }
  result += `ì´ì•¡: ${usd(totalAmount())}\n`;
  result += `ì ë¦½ í¬ì¸íŠ¸: ${totalVolumeCredits()}ì \n`;
  return result;

  function totalAmount() {
    let totalAmount = 0;
    for (let perf of invoice.performances) {
      totalAmount += amountFor(perf);
    }
    return totalAmount;
  }

  function totalVolumeCredits() {
    let volumeCredits = 0;
    for (let perf of invoice.performances) {
      volumeCredits += volumeCreditsFor(perf);
    }
    return volumeCredits;
  }

  function usd(aNumber) {
    return new Intl.NumberFormat('en-US', {
      style: 'currency',
      currency: 'USD',
      minimumFractionDigits: 2,
    }).format(aNumber / 100);
  }

  function volumeCreditsFor(aPerformance) {
    let volumeCredits = 0;
    volumeCredits += Math.max(aPerformance.audience - 30, 0);
    if ('comedy' === playFor(aPerformance).type) {
      volumeCredits += Math.floor(aPerformance.audience / 5);
    }
    return volumeCredits;
  }

  function playFor(aPerformance) {
    return plays[aPerformance.playID];
  }

  function amountFor(aPerformance) {
    let result = 0;
    switch (playFor(aPerformance).type) {
      case 'tragedy':
        result = 40000;
        if (aPerformance.audience > 30) {
          result += 1000 * (aPerformance.audience - 30);
        }
        break;
      case 'comedy':
        result = 30000;
        if (aPerformance.audience > 20) {
          result += 10000 + 500 * (aPerformance.audience - 20);
        }
        result += 300 * aPerformance.audience;
        break;
      default:
        throw new Error(`ì•Œ ìˆ˜ ì—†ëŠ” ì¥ë¥´: ${playFor(aPerformance).type}`);
    }
    return result;
  }
}
```
